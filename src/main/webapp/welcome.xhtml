<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:include src="menu.xhtml"/>
<h:head>
    <title>Arama İşlemleri</title>
</h:head>
<h:body>
    <h:form>
        <p:outputPanel id="searchOutputPanelId" style="margin-top: 20px;">
            <p:panelGrid style="width: 100%">
                <p:row>
                    <p:column style="width: 20%">
                        <h:outputLabel style="width: 100%" value="İndeks Ana Dizini"/>
                    </p:column>
                    <p:column style="width: 70%">
                        <p:inputText id="indeksAnaDiziniTextId" style="width: 100%" value="#{searchController.indeksAnaDizini}"/>
                    </p:column>
                    <p:column style="width: 10%">
                        <p:commandButton style="width: 300px; margin: 20px;" value="Dizinleri Getir"
                                         actionListener="#{searchController.dizinleriGetir}"
                                         process="@this, indeksAnaDiziniTextId"
                                         update="searchOutputPanelId"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column style="width: 20%">
                        <h:outputLabel style="width: 100%" value="İndeks Dizini"/>
                    </p:column>
                    <p:column colspan="2" style="width: 80%">
                        <p:selectOneMenu id="indeksMenuId"
                                         disabled="#{searchController.indeksDizinleri eq null or searchController.indeksDizinleri.size() eq 0}"
                                         value="#{searchController.secilenIndeksDizini}" style="width: 500px">
                            <f:selectItems value="#{searchController.indeksDizinleri}" var="_indeks">
                                <f:selectItem itemLabel="#{_indeks}" itemValue="#{_indeks}" />
                            </f:selectItems>
                        </p:selectOneMenu>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column style="width: 20%">
                        <h:outputLabel style="width: 100%" value="Analyser Seçimi"/>
                    </p:column>
                    <p:column colspan="2" style="width: 80%;">
                        <p:selectOneMenu id="analyserMenuId" value="#{searchController.analyser}" style="width: 200px">
                            <f:selectItem itemLabel="Türkçe" itemValue="Turkce" />
                            <f:selectItem itemLabel="Standart" itemValue="Standart" />
                        </p:selectOneMenu>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column colspan="3" style="text-align: center">
                        Arama parametreleri
                    </p:column>
                </p:row>
                <p:row>
                    <p:column style="width: 20%">
                        <h:outputLabel style="width: 100%" value="Başlık"/>
                    </p:column>
                    <p:column style="width: 70%">
                        <p:inputText id="baslikTextId" value="#{searchController.baslik}" style="width: 100%"/>
                    </p:column>
                    <p:column style="width: 10%">
                        <p:commandButton style="width: 300px; margin: 20px;" value="Ara"
                                         actionListener="#{searchController.ara('baslik')}"
                                         process="searchOutputPanelId"
                                         update="searchOutputPanelId, makaleOutputPanelId"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column style="width: 20%">
                        <h:outputLabel style="width: 100%" value="Anahtar Kelimeler"/>
                    </p:column>
                    <p:column style="width: 70%">
                        <p:inputText id="anahtarTextId" value="#{searchController.anahtarlar}" style="width: 100%"/>
                    </p:column>
                    <p:column style="width: 10%">
                        <p:commandButton style="width: 300px; margin: 20px;" value="Ara"
                                         actionListener="#{searchController.ara('anahtarlar')}"
                                         process="searchOutputPanelId"
                                         update="searchOutputPanelId, makaleOutputPanelId"/>
                    </p:column>
                </p:row>
                <p:row>
                    <p:column style="width: 20%">
                        <h:outputLabel style="width: 100%" value="Özet"/>
                    </p:column>
                    <p:column style="width: 70%">
                        <p:inputText id="ozetTextId" value="#{searchController.ozet}" style="width: 100%"/>
                    </p:column>
                    <p:column style="width: 10%">
                        <p:commandButton style="width: 300px; margin: 20px;" value="Ara"
                                         action="#{searchController.ara('ozet')}"
                                         process="searchOutputPanelId"
                                         update="searchOutputPanelId, makaleOutputPanelId"/>
                    </p:column>
                </p:row>
            </p:panelGrid>
            <p:growl/>
        </p:outputPanel>
        <p:outputLabel id="makaleOutputPanelId" style="margin-top: 20px;">
            <p:dataTable id="makaleDataTableId"
                         rendered="#{searchController.makaleListesi ne null and searchController.makaleListesi.size() > 0}"
                         value="#{searchController.makaleListesi}"
                         var="_makale"
                         rows="10"
                         widgetVar="makaleDataTableWV"
                         paginatorPosition="bottom"
                         paginator="true"
                         rowKey="#{_makale.makaleIsmi}"
                         rowIndexVar="rowIndex"
                         style="font-size: smaller;"
                         filterDelay="500"
                         emptyMessage="Aradığınız kriterlere göre kayıt bulunamadı"
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {NextPageLink} {LastPageLink}"
                         currentPageReportTemplate="Gösterilen kayıtlar {startRecord} - {endRecord} / {totalRecords}">
                <p:column
                        style="font-size: smaller;"
                        headerText="Makale">
                    <h:outputText value="#{_makale.makaleIsmi}"/>
                </p:column>
                <p:column
                        style="font-size: smaller;"
                        headerText="Detay">
                    <p:commandButton
                            icon="fa fa-remove"
                            value="Makale Detayı"
                            />
                </p:column>
            </p:dataTable>
        </p:outputLabel>
    </h:form>
</h:body>
</html>